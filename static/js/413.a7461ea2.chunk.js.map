{"version":3,"file":"static/js/413.a7461ea2.chunk.js","mappings":"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","sources":["hooks/useSessionStorage.js","utils/scoring.js","pages/Survey/Survey.jsx"],"sourcesContent":["import { useState } from 'react';\n\nexport const useSessionStorage = (key, initialValue) => {\n  // Get from local storage then\n  // parse stored json or return initialValue\n  const readValue = () => {\n    // Prevent build error \"window is undefined\" but keep keep working\n    if (typeof window === 'undefined') {\n      return initialValue;\n    }\n\n    try {\n      const item = window.sessionStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.warn(`Error reading sessionStorage key “${key}”:`, error);\n      return initialValue;\n    }\n  };\n\n  const [storedValue, setStoredValue] = useState(readValue);\n\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to sessionStorage.\n  const setValue = (value) => {\n    // Prevent build error \"window is undefined\" but keep keep working\n    if (typeof window == 'undefined') {\n      console.warn(\n        `Tried setting sessionStorage key “${key}” even though environment is not a client`\n      );\n    }\n\n    try {\n      // Allow value to be a function so we have the same API as useState\n      const newValue = value instanceof Function ? value(storedValue) : value;\n\n      // Save to local storage\n      window.sessionStorage.setItem(key, JSON.stringify(newValue));\n\n      // Save state\n      setStoredValue(newValue);\n\n      // We dispatch a custom event so every useSessionStorage hook are notified\n      window.dispatchEvent(new Event('local-storage'));\n    } catch (error) {\n      console.warn(`Error setting sessionStorage key “${key}”:`, error);\n    }\n  };\n\n  return [storedValue, setValue];\n}","// D = Testing (DESD or ADT) Grade Number - Actual Grade Placement\nconst analysisSkills = ['Markedly Below', 'Moderately Below', 'Mildly Below', 'Borderline', 'Normal', 'Above Normal'];\n\nexport function getSkillValue(testName, spellingCorrect, testingGrade, actualGrade) {\n    console.log(testName, testingGrade, actualGrade)\n    const testingGradeNumber = testName === getGradeNumber(testName, testingGrade)\n    const actualGradeNumber = testName === getGradeNumber(testName, actualGrade)\n    const D = testingGradeNumber - actualGradeNumber\n\n    if (D + spellingCorrect < 0) return analysisSkills[0];\n    if (D + spellingCorrect === 0) return analysisSkills[1];\n    if (D + spellingCorrect === 1) return analysisSkills[2];\n    if (D + spellingCorrect === 2) return analysisSkills[3];\n    if (D + spellingCorrect === 3) return analysisSkills[4];\n    if (D + spellingCorrect > 3) return analysisSkills[5];\n};\n\nfunction isLessThanHalfway() {\n    const currentDate = new Date();\n    \n    // Assuming the halfway point of the school year is December 31st of the current year\n    const halfwayDate = new Date(currentDate.getFullYear(), 11, 31); // December is month 11\n    \n    // Calculate the difference in milliseconds between the current date and the halfway date\n    const timeDiff = halfwayDate.getTime() - currentDate.getTime();\n    \n    // Check if the current date is before the halfway date\n    return timeDiff > 0;\n};\n\n\nfunction getGradeNumber(testName, grade) {\n    switch (grade) {\n        case 'K':\n        case 'Kindergarten':\n            return -1;\n        case '1st grade':\n            if (isLessThanHalfway() && testName === 'DESD') {\n                return 0\n            }\n            else {\n                return 1\n            }\n        case '1L':\n            return 0;\n        case '1U':\n            return 1;\n        case '2':\n        case '2nd grade':\n            return 2;\n        case '3':\n        case '3rd grade':\n            return 3;\n        case '4':\n        case '4th grade':\n            return 4;\n        case '5':\n        case '5th grade':\n            return 5;\n        case '6':\n        case '6th grade':\n            return 6;\n        case 'JRH':\n        case '7th grade or 8th grade':\n            return 7;\n        case 'HIS':\n        case '9-12':\n        case 'High School':\n            return 8;\n        case 'LOD':\n        case 'UPD':\n        case 'College':\n            return 9;\n        case 'MAS':\n        case 'Graduate School':\n            return 10;\n        case 'DOC':\n        case 'Doctorate':\n            return 11;\n        case 'POD':\n        case 'Post-Doctorate':\n            return 12;\n        default:\n            return 'ERROR';\n    }\n};\n","import React, { useState, useEffect, useRef, useMemo } from 'react';\nimport './Survey.css';\nimport { createClient } from '@supabase/supabase-js';\nimport { useSessionStorage } from '../../hooks/useSessionStorage';\nimport { getSkillValue } from \"../../utils/scoring\";\n\nfunction Survey() {\n  const SUPABASE_URL = process.env.REACT_APP_SUPABASE_URL;\n  const SUPABASE_API_KEY = process.env.REACT_APP_SUPABASE_API_KEY;\n  const supabase = createClient(SUPABASE_URL, SUPABASE_API_KEY);\n  const [activeQuestion, setActiveQuestion] = useState(0);\n  const [answers, setAnswers] = useState({});\n  const [showSubmitButton, setShowSubmitButton] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n  const [eideticCorrect] = useSessionStorage('eideticCorrect', '');\n  const [phoneticCorrect] = useSessionStorage('phoneticCorrect', '');\n  const [readingLevel] = useSessionStorage('readingLevel', '');\n  const [testName] = useSessionStorage('testName', '');\n  const [testWords] = useSessionStorage('testWords', '');\n  const [eideticResults] = useSessionStorage('eideticResults', '');\n  const [phoneticResults] = useSessionStorage('phoneticResults', '');\n  const emailInputRef = useRef(null);\n  const [eideticSkillValue, setEideticSkillValue] = useState(null);\n  const [phoneticSkillValue, setPhoneticSkillValue] = useState(null);\n\n  const questions = useMemo(() => [\n    {\n      id: 'q1',\n      question: \"Hello, what's your name?\",\n      type: 'text',\n    },\n    {\n      id: 'q2',\n      question: () => `Nice to meet you, ${answers['q1'] || ''}, where can we send your results/get in touch?`,\n      type: 'email',\n    },\n    {\n      id: 'q3',\n      question: 'What is the highest level of education that you have reached?',\n      type: 'select',\n      options: [\n        'Select a level of education', \n        'Kindergarten',\n        '1st grade',\n        '2nd grade',\n        '3rd grade',\n        '4th grade',\n        '5th grade',\n        '6th grade',\n        '7th grade or 8th grade',\n        'High School',\n        'College',\n        'Graduate School',\n        'Doctorate',\n        'Post-Doctorate'\n      ],\n    },\n    {\n      id: 'q4',\n      question: \"Have you ever been diagnosed with a learning disability?\",\n      type: 'yesNo',\n    },\n    {\n      id: 'q5',\n      question: \"When was your last eye examination?\",\n      type: 'dateOrNever',\n    },\n  ], [answers]);\n\n  useEffect(() => {\n    if (emailInputRef.current && activeQuestion === questions.findIndex(q => q.type === 'email')) {\n      emailInputRef.current.focus();\n    }\n  }, [activeQuestion, questions]);\n\n  const handleKeyDown = (e) => {\n      if (e.key === 'Enter') {\n        if (activeQuestion < questions.length - 1) {\n          setActiveQuestion(activeQuestion + 1);\n        } else {\n          submitAnswers();\n        }\n      } else if (e.key === 'Backspace' && !e.target.value && activeQuestion > 0) {\n        setActiveQuestion(activeQuestion - 1);\n      }\n    };\n  \n  const handleChange = (e, questionId) => {\n  setAnswers({ ...answers, [questionId]: e.target.value });\n  };\n\n  const submitAnswers = async () => {\n    // Prepare the data for submission\n    const submissionData = {\n      \"name\": answers['q1'],\n      \"email\": answers['q2'],\n      \"education\": answers['q3'],\n      \"learning_disability\": answers['q4'] === 'Yes',\n      \"last_eye_exam\": answers['q5'] === 'Never' ? null : answers['q5'],\n      \"eidetic_correct\": eideticCorrect,\n      \"phonetic_correct\": phoneticCorrect,\n      \"reading_level\": readingLevel,\n      \"test\": testName,\n      \"test_words\": testWords,\n      \"eidetic_result\": eideticResults,\n      \"phonetic_result\": phoneticResults\n    };\n\n    setEideticSkillValue(getSkillValue(testName, eideticCorrect, readingLevel, answers['q3']));\n    setPhoneticSkillValue(getSkillValue(testName, phoneticCorrect, readingLevel, answers['q3']));\n\n    // Upload data to Supabase\n    try {\n      const { data, error } = await supabase.from('results').insert([submissionData]);\n      if (error) {\n          throw error;\n      }\n      console.log('Data uploaded successfully:', data);\n    } catch (error) {\n        console.error('Error uploading data:', error);\n    }\n      setSubmitted(true);\n  };\n\n  const goForward = () => {\n  if (activeQuestion < questions.length - 1) {\n      setActiveQuestion(activeQuestion + 1);\n  } else {\n      setShowSubmitButton(true); // Add this line\n  }\n  };\n\n  const goBackward = () => {\n  if (activeQuestion > 0) {\n      setActiveQuestion(activeQuestion - 1);\n  }\n  };\n\n  const isValidInput = (questionId) => {\n  const answer = answers[questionId];\n  \n  if (!answer) {\n      return false;\n  }\n  \n  // Find the question with the matching questionId\n  const question = questions.find((q) => q.id === questionId);\n  \n  if (question && question.type === 'email') {\n      const emailRegex = /^[\\w-]+(\\.[\\w-]+)*@([\\w-]+\\.)+[a-zA-Z]{2,}$/;\n      return emailRegex.test(answer);\n  }\n  \n  return true;\n  };\n  \n  return submitted ? (\n    <div className=\"survey\">\n      {/* <h1>Thank You!</h1>\n      <p>We will follow up with your results shortly.</p> */}\n      <p>Sight-Word Analysis Skill: {eideticSkillValue}</p>\n      <p>Phonetic Analysis Skill: {phoneticSkillValue}</p>\n      \n    </div>\n    ) : (\n      <div className=\"survey\">\n        {showSubmitButton ? (\n          <div className=\"submit-button-container\">\n            <button onClick={submitAnswers}>Submit</button>\n          </div>\n        ) : (\n          questions.map((q, index) => (\n              <div className=\"question-container\" key={q.id} style={{ display: index === activeQuestion ? 'flex' : 'none' }}>\n                <div className=\"question\">\n                  {typeof q.question === 'function' ? q.question() : q.question}\n                </div>\n            \n                {q.type === 'select' && (\n                  <select\n                    className=\"input\"\n                    value={answers[q.id] || ''}\n                    autoFocus={index === activeQuestion}\n                    onKeyDown={handleKeyDown}\n                    onChange={(e) => handleChange(e, q.id)}\n                  >\n                    {q.options.map((option, i) => (\n                      <option\n                        key={`${q.id}-${i}`}\n                        value={option}\n                        hidden={i === 0}\n                      >\n                        {option}\n                      </option>\n                    ))}\n                  </select>\n                )}\n            \n                {q.type === 'yesNo' && (\n                  <div className='buttons-container' key={`${q.id}-buttons`}>\n                    <div className='button-container' key={`${q.id}-yes-button`}>\n                      <button onClick={() => { \n                        handleChange({ target: { value: 'Yes' } }, q.id);\n                        goForward();\n                      }}>Yes</button>\n                    </div>\n                    <div className='button-container' key={`${q.id}-no-button`}>\n                      <button onClick={() => { \n                        handleChange({ target: { value: 'No' } }, q.id);\n                        goForward();\n                      }}>No</button>\n                    </div>\n                  </div>\n                )}\n            \n                {q.type === 'dateOrNever' && (\n                  <div className='buttons-container' key={`${q.id}-buttons`}>\n                    <div className='button-container' key={`${q.id}-date-input`}>\n                      <input\n                        className=\"input\"\n                        type=\"date\"\n                        value={answers[q.id] || ''}\n                        autoFocus={index === activeQuestion}\n                        onKeyDown={handleKeyDown}\n                        onChange={(e) => handleChange(e, q.id)}\n                      />\n                    </div>\n                    <div className='button-container' key={`${q.id}-never-button`}>\n                      <button onClick={() => { \n                        handleChange({ target: { value: 'Never' } }, q.id);\n                        goForward();\n                      }}>Never</button>\n                    </div>\n                  </div>\n                )}\n                {['text'].includes(q.type) && (\n                  <input\n                    className=\"input\"\n                    type={q.type}\n                    value={answers[q.id] || ''}\n                    autoFocus\n                    onKeyDown={handleKeyDown}\n                    onChange={(e) => handleChange(e, q.id)}\n                    key={`${q.id}-input`}\n                    placeholder='Name'\n                  />\n                )}\n                {['email'].includes(q.type) && (\n                  <input\n                    className=\"input\"\n                    type={q.type}\n                    value={answers[q.id] || ''}\n                    ref={emailInputRef}\n                    onKeyDown={handleKeyDown}\n                    onChange={(e) => handleChange(e, q.id)}\n                    key={`${q.id}-input`}\n                    placeholder='Email Address'\n                  />\n                )}\n                <div className=\"buttons-container\" key={`${q.id}-nav-buttons`}>\n                  <div className=\"button-container\" key={`${q.id}-back-button`}>\n                    <button onClick={goBackward} disabled={activeQuestion === 0}>\n                    &larr; Back\n                  </button>\n                </div>\n                <div className=\"button-container\" key={`${q.id}-forward-button`}>\n                    <button onClick={goForward} disabled={!isValidInput(q.id)}>\n                      Next &rarr;\n                    </button>\n                </div>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n  );   \n}\n\nexport default Survey\n\n"],"names":["useSessionStorage","key","initialValue","storedValue","setStoredValue","useState","readValue","window","item","sessionStorage","getItem","JSON","parse","error","console","warn","concat","value","newValue","Function","setItem","stringify","dispatchEvent","Event","analysisSkills","getSkillValue","testName","spellingCorrect","testingGrade","actualGrade","log","D","getGradeNumber","grade","currentDate","Date","getFullYear","getTime","isLessThanHalfway","supabase","createClient","process","activeQuestion","setActiveQuestion","answers","setAnswers","showSubmitButton","setShowSubmitButton","submitted","setSubmitted","eideticCorrect","phoneticCorrect","readingLevel","testWords","eideticResults","phoneticResults","emailInputRef","useRef","eideticSkillValue","setEideticSkillValue","phoneticSkillValue","setPhoneticSkillValue","questions","useMemo","id","question","type","options","useEffect","current","findIndex","q","focus","handleKeyDown","e","length","submitAnswers","target","handleChange","questionId","async","submissionData","data","from","insert","goForward","goBackward","isValidInput","answer","find","test","_jsxs","className","children","_jsx","onClick","map","index","style","display","autoFocus","onKeyDown","onChange","option","i","hidden","includes","placeholder","ref","disabled"],"sourceRoot":""}